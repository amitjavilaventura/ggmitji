yend = yend),
color = "#c4bbd1") +
geom_segment(data = petal2,
aes(x = x,
y = y,
xend = xend,
yend = yend),
color = "#c4bbd1") +
geom_point(data = dots,
aes(x = x, y = y),
color = "#ffb0b2",
size = 1.5)
ggplot() +
apply_pattern_theme(bg_hex = "#4d6091",
caption_hex = "white") +
scale_x_continuous(limits = c(0, 19)) +
scale_y_continuous(limits = c(0, 5)) +
coord_polar() +
# geom_segment(data = lines,
#              aes(x = x,
#                  y = y,
#                  xend = xend,
#                  yend = yend),
#              color = "white") +
geom_segment(data = petal1,
aes(x = x,
y = y,
xend = xend,
yend = yend),
color = "#c4bbd1") +
geom_segment(data = petal2,
aes(x = x,
y = y,
xend = xend,
yend = yend),
color = "#c4bbd1") +
geom_point(data = dots,
aes(x = x, y = y),
color = "#ffb0b2",
size = 1.5)
ggplot() +
apply_pattern_theme(bg_hex = "#4d6091",
caption_hex = "white") +
scale_x_continuous(limits = c(0, 19)) +
scale_y_continuous(limits = c(3, 10)) +
coord_polar() +
# geom_segment(data = lines,
#              aes(x = x,
#                  y = y,
#                  xend = xend,
#                  yend = yend),
#              color = "white") +
geom_segment(data = petal1,
aes(x = x,
y = y,
xend = xend,
yend = yend),
color = "#c4bbd1") +
geom_segment(data = petal2,
aes(x = x,
y = y,
xend = xend,
yend = yend),
color = "#c4bbd1") +
geom_point(data = dots,
aes(x = x, y = y),
color = "#ffb0b2",
size = 1.5)
ggplot() +
apply_pattern_theme(bg_hex = "#4d6091",
caption_hex = "white") +
scale_x_continuous(limits = c(5, 19)) +
scale_y_continuous(limits = c(3, 10)) +
coord_polar() +
# geom_segment(data = lines,
#              aes(x = x,
#                  y = y,
#                  xend = xend,
#                  yend = yend),
#              color = "white") +
geom_segment(data = petal1,
aes(x = x,
y = y,
xend = xend,
yend = yend),
color = "#c4bbd1") +
geom_segment(data = petal2,
aes(x = x,
y = y,
xend = xend,
yend = yend),
color = "#c4bbd1") +
geom_point(data = dots,
aes(x = x, y = y),
color = "#ffb0b2",
size = 1.5)
geom_segment(data = lines,
aes(x = x,
y = y,
xend = xend,
yend = yend),
color = "white") +
ggplot() +
apply_pattern_theme(bg_hex = "#4d6091",
caption_hex = "white") +
scale_x_continuous(limits = c(5, 19)) +
scale_y_continuous(limits = c(3, 10)) +
coord_polar() +
geom_segment(data = lines,
aes(x = x,
y = y,
xend = xend,
yend = yend),
color = "white") +
geom_segment(data = petal1,
aes(x = x,
y = y,
xend = xend,
yend = yend),
color = "#c4bbd1") +
geom_segment(data = petal2,
aes(x = x,
y = y,
xend = xend,
yend = yend),
color = "#c4bbd1") +
geom_point(data = dots,
aes(x = x, y = y),
color = "#ffb0b2",
size = 1.5)
ggplot() +
apply_pattern_theme(bg_hex = "#4d6091",
caption_hex = "white") +
scale_x_continuous(limits = c(5, 19)) +
scale_y_continuous(limits = c(3, 10)) +
coord_polar() +
geom_segment(data = lines,
aes(x = x,
y = y,
xend = xend,
yend = yend),
color = "white") +
geom_segment(data = petal1,
aes(x = x,
y = y,
xend = xend,
yend = yend),
color = "#c4bbd1") +
geom_segment(data = petal2,
aes(x = x,
y = y,
xend = xend,
yend = yend),
color = "#c4bbd1") +
geom_point(data = dots,
aes(x = x, y = y),
color = "#ffb0b2",
size = 1.5)
ggplot() +
apply_pattern_theme(bg_hex = "#4d6091",
caption_hex = "white") +
scale_x_continuous(limits = c(5, 19)) +
scale_y_continuous(limits = c(3, 10)) +
coord_polar() +
geom_segment(data = lines,
aes(x = x,
y = y,
xend = xend,
yend = yend),
color = "white") +
geom_segment(data = petal1,
aes(x = x,
y = y,
xend = xend,
yend = yend),
color = "#c4bbd1") +
geom_segment(data = petal2,
aes(x = x,
y = y,
xend = xend,
yend = yend),
color = "#c4bbd1") +
geom_point(data = dots,
aes(x = x, y = y),
color = "#ffb0b2",
size = 1.5)
ggplot() +
apply_pattern_theme(bg_hex = "#4d6091",
caption_hex = "white") +
scale_x_continuous(limits = c(0, 19)) +
scale_y_continuous(limits = c(3, 10)) +
coord_polar() +
geom_segment(data = lines,
aes(x = x,
y = y,
xend = xend,
yend = yend),
color = "white") +
geom_segment(data = petal1,
aes(x = x,
y = y,
xend = xend,
yend = yend),
color = "#c4bbd1") +
geom_segment(data = petal2,
aes(x = x,
y = y,
xend = xend,
yend = yend),
color = "#c4bbd1") +
geom_point(data = dots,
aes(x = x, y = y),
color = "#ffb0b2",
size = 1.5)
ggplot() +
apply_pattern_theme(bg_hex = "#4d6091",
caption_hex = "white") +
scale_x_continuous(limits = c(0, 19)) +
scale_y_continuous(limits = c(1, 10)) +
coord_polar() +
geom_segment(data = lines,
aes(x = x,
y = y,
xend = xend,
yend = yend),
color = "white") +
geom_segment(data = petal1,
aes(x = x,
y = y,
xend = xend,
yend = yend),
color = "#c4bbd1") +
geom_segment(data = petal2,
aes(x = x,
y = y,
xend = xend,
yend = yend),
color = "#c4bbd1") +
geom_point(data = dots,
aes(x = x, y = y),
color = "#ffb0b2",
size = 1.5)
ggplot() +
apply_pattern_theme(bg_hex = "#4d6091",
caption_hex = "white") +
scale_x_continuous(limits = c(0, 19)) +
scale_y_continuous(limits = c(-2, 10)) +
coord_polar() +
geom_segment(data = lines,
aes(x = x,
y = y,
xend = xend,
yend = yend),
color = "white") +
geom_segment(data = petal1,
aes(x = x,
y = y,
xend = xend,
yend = yend),
color = "#c4bbd1") +
geom_segment(data = petal2,
aes(x = x,
y = y,
xend = xend,
yend = yend),
color = "#c4bbd1") +
geom_point(data = dots,
aes(x = x, y = y),
color = "#ffb0b2",
size = 1.5)
ggplot() +
apply_pattern_theme(bg_hex = "#4d6091",
caption_hex = "white") +
scale_x_continuous(limits = c(0, 19)) +
scale_y_continuous(limits = c(0, 10)) +
coord_polar() +
geom_segment(data = lines,
aes(x = x,
y = y,
xend = xend,
yend = yend),
color = "white") +
geom_segment(data = petal1,
aes(x = x,
y = y,
xend = xend,
yend = yend),
color = "#c4bbd1") +
geom_segment(data = petal2,
aes(x = x,
y = y,
xend = xend,
yend = yend),
color = "#c4bbd1") +
geom_point(data = dots,
aes(x = x, y = y),
color = "#ffb0b2",
size = 1.5)
knitr::opts_chunk$set(echo = TRUE, fig.align = "center", fig.width = 4, fig.height = 4,
warning = FALSE, error = FALSE, message = FALSE)
devtools::load_all("..")
# Load ggplot2
library(ggplot2)
# Load ggmitji
library(ggmitji)
# Example plot from https://ggplot2.tidyverse.org/reference/facet_grid.html
p <- ggplot(mpg, aes(displ, cty)) + geom_point()
p <- p + facet_grid(cols = vars(drv))
p
fill_strips_top(p = p, colors = c("red", "blue", "yellow"))
# Example plot from https://ggplot2.tidyverse.org/reference/facet_grid.html
p <- ggplot(mpg, aes(displ, cty)) + geom_point()
p <- p + facet_grid(rows = vars(drv))
p
fill_strips_right(p = p, colors = c("red", "blue", "yellow"))
g <- ggplot_gtable(ggplot_build(p))
g
# Example plot from https://ggplot2.tidyverse.org/reference/facet_grid.html
p <- ggplot(mpg, aes(displ, cty)) + geom_point()
p <- p + facet_grid(cols = vars(drv), switch = "x")
p
g <- ggplot_gtable(ggplot_build(p))
g
strip <- which(grepl('strip-b', g$layout$name))
fills <- colors
k <- 1
for (i in strip) {
j <- which(grepl('rect', g$grobs[[i]]$grobs[[1]]$childrenOrder))
g$grobs[[i]]$grobs[[1]]$children[[j]]$gp$fill <- fills[k]
k <- k+1
}
fill_strips_bottom <- function(p, colors){
library(ggplot2)
library(cowplot)
g <- ggplot_gtable(ggplot_build(p))
strip <- which(grepl('strip-b', g$layout$name))
fills <- colors
k <- 1
for (i in strip) {
j <- which(grepl('rect', g$grobs[[i]]$grobs[[1]]$childrenOrder))
g$grobs[[i]]$grobs[[1]]$children[[j]]$gp$fill <- fills[k]
k <- k+1
}
plot <- cowplot::ggdraw(g)
plot
}
# Example plot from https://ggplot2.tidyverse.org/reference/facet_grid.html
p <- ggplot(mpg, aes(displ, cty)) + geom_point()
p <- p + facet_grid(cols = vars(drv), switch = "x")
p
fill_strips_bottom(p = p, colors = c("red", "blue", "yellow"))
# Example plot from https://ggplot2.tidyverse.org/reference/facet_grid.html
p <- ggplot(mpg, aes(displ, cty)) + geom_point()
p <- p + facet_grid(rows = vars(drv), switch = "y")
fill_strips_left <- function(p, colors){
library(ggplot2)
library(cowplot)
g <- ggplot_gtable(ggplot_build(p))
strip <- which(grepl('strip-l', g$layout$name))
fills <- colors
k <- 1
for (i in strip) {
j <- which(grepl('rect', g$grobs[[i]]$grobs[[1]]$childrenOrder))
g$grobs[[i]]$grobs[[1]]$children[[j]]$gp$fill <- fills[k]
k <- k+1
}
plot <- cowplot::ggdraw(g)
plot
}
fill_strips_left(p = p, colors = c("red", "blue", "yellow"))
sides <- c()
sides <- c(sides, "t")
sides <- c(sides, "r")
sides <- c(sides, "b")
sides <- c(sides, "l")
strips <- paste("strip", sides, sep="-")
strips
paste(strips, collapse = "|")
strip <- which(grepl(paste(strips, collapse = "|"), g$layout$name))
strip
g
mpg
mpg
# Example plot from https://ggplot2.tidyverse.org/reference/facet_grid.html
p <- ggplot(mpg, aes(displ, cty)) + geom_point()
p <- p + facet_grid(rows = vars(drv), cols=vars(model))
p
mpg
p <- p + facet_grid(rows = vars(drv), cols=vars(cty))
p
p <- p + facet_grid(rows = vars(drv), cols=vars(manufacturer))
p
mpg
p <- p + facet_grid(rows = vars(drv), cols=vars(fl))
p
fill_strips(p = p, side = c("top", "right"), colors = c("red", "blue", "yellow"))
g <- ggplot_gtable(ggplot_build(p))
g
g <- ggplot_gtable(ggplot_build(p))
strip <- which(grepl(paste(strips, collapse = "|"), g$layout$name))
fills <- colors
fill_strips <- function(p, side = c("top", "right"), colors){
library(ggplot2)
library(cowplot)
sides <- c()
if("top" %in% side){ sides <- c(sides, "t") }
if("right" %in% side){ sides <- c(sides, "r") }
if("bottom" %in% side){ sides <- c(sides, "b") }
if("left" %in% side){ sides <- c(sides, "l") }
strips <- paste("strip", sides, sep="-")
g <- ggplot_gtable(ggplot_build(p))
strip <- which(grepl(paste(strips, collapse = "|"), g$layout$name))
fills <- colors
k <- 1
for (i in strip) {
j <- which(grepl('rect', g$grobs[[i]]$grobs[[1]]$childrenOrder))
g$grobs[[i]]$grobs[[1]]$children[[j]]$gp$fill <- fills[k]
k <- k+1
}
plot <- cowplot::ggdraw(g)
plot
}
# first the top strips and then the right strips
fill_strips(p = p, side = c("top", "right"),
colors = c("gray10","gray30", "gray50","gray70","gray90",
"red", "blue", "yellow"))
colors = c("gray10","gray30", "gray50","gray70","gray90",
"red", "blue", "yellow")
strip <- which(grepl(paste(strips, collapse = "|"), g$layout$name))
strip
fills <- colors
k <- 1
for (i in strip) {
j <- which(grepl('rect', g$grobs[[i]]$grobs[[1]]$childrenOrder))
g$grobs[[i]]$grobs[[1]]$children[[j]]$gp$fill <- fills[k]
k <- k+1
}
j
which(grepl('rect', g$grobs[[i]]$grobs[[1]]$childrenOrder)
plot
plot
cowplot::ggdraw(g)
fill_strips <- function(p, side = c("top", "right"), colors){
library(ggplot2)
library(cowplot)
sides <- c()
if("top" %in% side){ sides <- c(sides, "t") }
if("right" %in% side){ sides <- c(sides, "r") }
if("bottom" %in% side){ sides <- c(sides, "b") }
if("left" %in% side){ sides <- c(sides, "l") }
strips <- paste("strip", sides, sep="-")
g <- ggplot_gtable(ggplot_build(p))
strip <- which(grepl(paste(strips, collapse = "|"), g$layout$name))
fills <- colors
k <- 1
for (i in strip) {
j <- which(grepl('rect', g$grobs[[i]]$grobs[[1]]$childrenOrder))
g$grobs[[i]]$grobs[[1]]$children[[j]]$gp$fill <- fills[k]
k <- k+1
}
cowplot::ggdraw(g)
}
# first the top strips and then the right strips
fill_strips(p = p, side = c("top", "right"),
colors = c("gray10","gray30", "gray50","gray70","gray90",
"red", "blue", "yellow"))
fill_strips <- function(p, side = c("top", "right"), colors){
library(ggplot2)
library(cowplot)
sides <- c()
if("top" %in% side){ sides <- c(sides, "t") }
if("right" %in% side){ sides <- c(sides, "r") }
if("bottom" %in% side){ sides <- c(sides, "b") }
if("left" %in% side){ sides <- c(sides, "l") }
strips <- paste("strip", sides, sep="-")
g <- ggplot_gtable(ggplot_build(p))
strip <- which(grepl(paste(strips, collapse = "|"), g$layout$name))
fills <- colors
k <- 1
for (i in strip) {
j <- which(grepl('rect', g$grobs[[i]]$grobs[[1]]$childrenOrder))
g$grobs[[i]]$grobs[[1]]$children[[j]]$gp$fill <- fills[k]
k <- k+1
}
return(cowplot::ggdraw(g))
}
# first the top strips and then the right strips
fill_strips(p = p, side = c("top", "right"),
colors = c("gray10","gray30", "gray50","gray70","gray90",
"red", "blue", "yellow"))
# Example plot from https://ggplot2.tidyverse.org/reference/facet_grid.html
p <- ggplot(mpg, aes(displ, cty)) + geom_point()
p <- p + facet_grid(rows = vars(drv), cols=vars(fl))
p <- p + facet_grid(rows = vars(drv), cols=vars(fl), switch = "both")
p
# first the top strips and then the right strips
fill_strips(p = p, side = c("bottom", "left"),
colors = c("gray10","gray30", "gray50","gray70","gray90",
"red", "blue", "yellow"))
# first the bottom strips and then the left strips
fill_strips(p = p, side = c("bottom", "left"),
colors = c("gray10","gray30", "gray50","gray70","gray90",
"red", "blue", "yellow"))
devtools::document()
pkgdown::build_site()
BiocManager::install("amitjavilaventura/ggmitji")
devtools::document()
pkgdown::build_site()
BiocManager::install("amitjavilaventura/ggmitji")
devtools::install("amitjavilaventura/ggmitji")
devtools::install_github("amitjavilaventura/ggmitji")
devtools::install_github("amitjavilaventura/ggmitji")
